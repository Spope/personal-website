function wheel(a){a.wheelDelta?delta=a.wheelDelta/120:a.detail&&(delta=-a.detail/3),handle(),a.preventDefault()}function handle(){$("html, body").stop().animate({scrollTop:$(window).scrollTop()-distance*delta},time)}window.addEventListener("scroll",function(){var a=document.documentElement,b=document.body,c=a&&a.scrollTop||b&&b.scrollTop||0;document.querySelector("#header-home").style.backgroundPosition="50% "+c/3+"px"}),navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&(window.addEventListener&&window.addEventListener("DOMMouseScroll",wheel,!1),window.onmousewheel=document.onmousewheel=wheel,$(document).keydown(function(a){switch(a.which){case 38:$("html, body").stop().animate({scrollTop:$(window).scrollTop()-distance},time);break;case 40:$("html, body").stop().animate({scrollTop:$(window).scrollTop()+distance},time)}}));var time=300,distance=270,Contact={name:{},email:{},message:{},postUrl:"",init:function(){this.name=document.querySelector("#input-name"),this.email=document.querySelector("#input-email"),this.message=document.querySelector("#input-message"),this.postUrl=document.querySelector("#form-contact").action,document.querySelector("#form-contact").addEventListener("submit",function(a){return a.preventDefault(),this.submit(),!1}.bind(this)),this.name.addEventListener("keydown",function(a){40==a.keyCode&&this.email.focus()}.bind(this)),this.email.addEventListener("keydown",function(a){40==a.keyCode&&this.message.focus(),38==a.keyCode&&this.name.focus()}.bind(this)),this.message.addEventListener("keydown",function(a){38==a.keyCode&&1==this.message.value.substr(0,this.message.selectionStart).split("\n").length&&this.email.focus()}.bind(this))},submit:function(){var a={url:this.postUrl,method:"post",body:"name="+this.name.value+"&email="+this.email.value+"&message="+this.message.value,requestHeader:"application/x-www-form-urlencoded",error:function(a){this.name.className=this.name.className.replace("error",""),this.email.className=this.email.className.replace("error",""),this.message.className=this.message.className.replace("error","");for(var b in a.errors)this[a.errors[b]].className="error"}.bind(this),callback:function(a){a.response&&(document.querySelector("#form-contact").style.display="none",document.querySelector("#thanks").style.display="block")}};this.xhr(a)},xhr:function(a){if(a.body=a.body||"",a.method=a.method||"GET",a.requestHeader=a.requestHeader||"application/json",!a.url)throw Error("XHR need a URL");var b=new XMLHttpRequest;b.onreadystatechange=function(){if(4==b.readyState){if(201==b.status)return a.callback&&a.callback(JSON.parse(b.responseText)),void 0;a.error(JSON.parse(b.responseText))}},b.open(a.method,a.url,!0),b.setRequestHeader("Content-Type",a.requestHeader),b.setRequestHeader("X-Requested-With","XMLHttpRequest"),b.send(a.body)}};Contact.init();