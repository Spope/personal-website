var Square={_squares:[],init:function(){this._squares=document.querySelectorAll(".square");for(var a=0;a<this._squares.length;a++)this._squares[a].addEventListener("click",this.enterSquare.bind(this))},enterSquare:function(a){for(var b=0;b<this._squares.length;b++)this._squares[b].style.zIndex=1;var c=a.currentTarget;c.removeEventListener("click",this.enterSquare.bind(this));setTimeout(function(){c.addEventListener("mouseleave",this.outSquare.bind(this))}.bind(this),500);c.style.zIndex=3,c.className="clicked "+c.className},outSquare:function(a){var b=a.currentTarget;b.removeEventListener("mouseleave",this.outSquare.bind(this)),b.className=b.className.replace("clicked ",""),b.addEventListener("click",this.enterSquare.bind(this))}},Size={header:{},squares:{},portfolio:{},contact:{},init:function(){this.header=document.querySelector("#header"),this.squares=document.querySelector("#squares"),this.portfolio=document.querySelector("#portfolios"),this.contact=document.querySelector("#contact"),window.onload=function(){this.resize()}.bind(this),window.onresize=function(){this.resize()}.bind(this),this.resize()},resize:function(){var a=this.header.offsetHeight,b=this.squares.offsetHeight,c=this.portfolio.offsetHeight;this.portfolio.style.top=a+b+"px",this.contact.style.top=a+b+c+"px"}},Contact={name:{},email:{},message:{},postUrl:"",init:function(){this.name=document.querySelector("#input-name"),this.email=document.querySelector("#input-email"),this.message=document.querySelector("#input-message"),this.postUrl=document.querySelector("#form-contact").action,document.querySelector("#form-contact").addEventListener("submit",function(a){return a.preventDefault(),this.submit(),!1}.bind(this)),this.name.addEventListener("keydown",function(a){40==a.keyCode&&this.email.focus()}.bind(this)),this.email.addEventListener("keydown",function(a){40==a.keyCode&&this.message.focus(),38==a.keyCode&&this.name.focus()}.bind(this)),this.message.addEventListener("keydown",function(a){38==a.keyCode&&1==this.message.value.substr(0,this.message.selectionStart).split("\n").length&&this.email.focus()}.bind(this))},submit:function(){var a={url:this.postUrl,method:"post",body:"name="+this.name.value+"&email="+this.email.value+"&message="+this.message.value,requestHeader:"application/x-www-form-urlencoded",error:function(a){this.name.className=this.name.className.replace("error",""),this.email.className=this.email.className.replace("error",""),this.message.className=this.message.className.replace("error","");for(var b in a.errors)this[a.errors[b]].className="error"}.bind(this),callback:function(a){a.response&&(document.querySelector("#form-contact").style.display="none",document.querySelector("#thanks").style.display="block")}};this.xhr(a)},xhr:function(a){if(a.body=a.body||"",a.method=a.method||"GET",a.requestHeader=a.requestHeader||"application/json",!a.url)throw Error("XHR need a URL");var b=new XMLHttpRequest;b.onreadystatechange=function(){if(4==b.readyState){if(201==b.status)return a.callback&&a.callback(JSON.parse(b.responseText)),void 0;a.error(JSON.parse(b.responseText))}},b.open(a.method,a.url,!0),b.setRequestHeader("Content-Type",a.requestHeader),b.setRequestHeader("X-Requested-With","XMLHttpRequest"),b.send(a.body)}};Square.init(),Contact.init(),Size.init();